<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Simple Things in Python and R</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="languages.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">The Tidynomicon</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="beginnings.html">Simple Things</a>
</li>
<li>
  <a href="tidyverse.html">The Tidyverse</a>
</li>
<li>
  <a href="cleanup.html">Cleaning Up Data</a>
</li>
<li>
  <a href="testing.html">Testing</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Simple Things in Python and R</h1>

</div>


<p>Let’s try some simple things at an interactive prompt.</p>
<div id="how-do-i-greet-the-world" class="section level2">
<h2>How do I greet the world?</h2>
<p>Let us begin as is traditional, using blue to show Python and green to show R:</p>
<pre class="python"><code>print(&quot;Hello, world!&quot;)</code></pre>
<pre><code>## Hello, world!</code></pre>
<pre class="r"><code>print(&quot;Hello, world!&quot;)</code></pre>
<pre><code>## [1] &quot;Hello, world!&quot;</code></pre>
<p>A sense of weariness settles over us immediately. Python prints exactly what we have asked for, but what is that <code>[1]</code> in R’s output? Is it perhaps something akin to a line number? Let’s take a closer look by simply evaluating an expression without bothering with <code>print</code>:</p>
<pre class="r"><code>&#39;This is in single quotes.&#39;</code></pre>
<pre><code>## [1] &quot;This is in single quotes.&quot;</code></pre>
<pre class="r"><code>&quot;This is in double quotes.&quot;</code></pre>
<pre><code>## [1] &quot;This is in double quotes.&quot;</code></pre>
<p>Oh dear. It appears that R uses double quotes to display strings even when we give it a single-quoted string (which is no worse than Python using single quotes when we’ve given it doubles). The bad news is that the mysterious <code>[1]</code> doesn’t appear to be a line number. Let’s ignore it for now and do a little more exploring.</p>
</div>
<div id="how-do-i-add-numbers" class="section level2">
<h2>How do I add numbers?</h2>
<p>In Python, I add numbers using <code>+</code>. (Note that, as above, we use <code>print</code> to display the output instead of simply typing in the expression. This is a feature of the current version of RStudio.)</p>
<pre class="python"><code>print(1 + 2 + 3)</code></pre>
<pre><code>## 6</code></pre>
<p>I can check the type of the result using the built-in <code>type</code> function, which in this case tells me that my <code>6</code> is an integer:</p>
<pre class="python"><code>print(type(6))</code></pre>
<pre><code>## &lt;type &#39;int&#39;&gt;</code></pre>
<p>What does R do?</p>
<pre class="r"><code>1 + 2 + 3</code></pre>
<pre><code>## [1] 6</code></pre>
<pre class="r"><code>typeof(6)</code></pre>
<pre><code>## [1] &quot;double&quot;</code></pre>
<p>Hm. Calling the type-checking function <code>typeof</code> rather than <code>type</code> isn’t frightening, and having it return the name of a type rather than a class can also be excused, but it does seem odd for integer addition to produce a double-precision floating-point result (which is what the type <code>&quot;double&quot;</code> means). Let’s try an experiment:</p>
<pre class="r"><code>typeof(6)</code></pre>
<pre><code>## [1] &quot;double&quot;</code></pre>
<p>Ah ha. By default, R represents numbers as floating-point values, even if they look like integers when written. We can force a literal value to be an integer by putting an upper-case L after it:</p>
<pre class="r"><code>typeof(6L)</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>Arithmetic on integers produces integers:</p>
<pre class="r"><code>1L + 2L + 3L</code></pre>
<pre><code>## [1] 6</code></pre>
<pre class="r"><code>typeof(1L + 2L + 3L)</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>and if we want to convert a “normal” (floating-point) number to an integer we can do so:</p>
<pre class="r"><code>as.integer(6)</code></pre>
<pre><code>## [1] 6</code></pre>
<pre class="r"><code>typeof(as.integer(6))</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>But wait: what is that dot doing in that function’s name? Is there an object called <code>as</code> with a method called <code>integer</code>? No. In R, <code>.</code> is just another character. Like the underscore <code>_</code>, it is used to make names more readable, but it has no special meaning.</p>
</div>
<div id="how-do-i-store-many-numbers-together" class="section level2">
<h2>How do I store many numbers together?</h2>
<p>The Elder Gods do not bother to learn most of our names because there are so many of us and we are so…ephemeral. Similarly, we only give proper names to a handful of values in our programs; we lump the rest together into lists and matrices and more esoteric structure so that we too can create, manipulate, and dispose of multitudes with a single dark command.</p>
<p>In Python, we create a list using square brackets, and assign that list to a variable using <code>=</code>. If the variable does not exist, it is created:</p>
<pre class="python"><code>primes = [3, 5, 7, 11]</code></pre>
<p>Since assignment is a statement rather than an expression, it has no result, so Python does not display anything when this command is run.</p>
<p>The equivalent operation in R uses a function called <code>c</code>, which stands for “column”:</p>
<pre class="r"><code>primes &lt;- c(3, 5, 7, 11)</code></pre>
<p>Assignment is done using a left-pointing arrow <code>&lt;-</code>. Like Python, R does not display a value after an assignment statement.</p>
<p>Now that we can create vectors in R, we can explain that errant <code>[1]</code> in our previous examples. To begin with, let’s have a look at the lengths of various things in Python:</p>
<pre class="python"><code>print(len(primes))</code></pre>
<pre><code>## 4</code></pre>
<pre class="python"><code>print(len(4))</code></pre>
<pre><code>## TypeError: object of type &#39;int&#39; has no len()
## 
## Detailed traceback: 
##   File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;</code></pre>
<p>Fair enough: the length of a list is the number of elements it contains, and since a scalar value like the integer 4 doesn’t contain elements, we are committing a minor sin by asking for its length.</p>
<p>Now, what of R?</p>
<pre class="r"><code>length(primes)</code></pre>
<pre><code>## [1] 4</code></pre>
<p>Good.</p>
<pre class="r"><code>length(4)</code></pre>
<pre><code>## [1] 1</code></pre>
<p>That’s unexpected. Let’s have a closer look:</p>
<pre class="r"><code>typeof(primes)</code></pre>
<pre><code>## [1] &quot;double&quot;</code></pre>
<p>That’s also unexpected, but all becomes clear once we realize that <em>there are no scalars in R</em>. <code>4</code> is not a single lonely integer, but rather a vector of length one containing the value 4. When we display its value, the <code>[1]</code> is the index of its first value. We can prove this by creating and displaying a much longer vector:</p>
<pre class="r"><code>longer &lt;- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
longer</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10  1  2  3  4  5  6  7  8  9 10  1  2  3
## [24]  4  5  6  7  8  9 10  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>In order to help us find out way in our data, R automatically breaks long lines and displays the starting index of each line. These index values also show us that R counts from 1 as humans do, rather than from zero. (There are a great many myths about why programming languages do the latter. If you dare know the truth, <a href="http://exple.tive.org/blarg/2013/10/22/citation-needed/">Mike Hoye has it for you</a>.)</p>
</div>
<div id="how-do-i-index-a-list-vector" class="section level2">
<h2>How do I index a <del>list</del> vector?</h2>
<p>Python’s rules are simple once you understand them (a statement which is also true of quantum mechanics). To avoid confusing indices with values, let’s create a list of color names and index that:</p>
<pre class="python"><code>colors = [&quot;eburnean&quot;, &quot;glaucous&quot;, &quot;wenge&quot;]
print(colors[0])</code></pre>
<pre><code>## eburnean</code></pre>
<pre class="python"><code>print(colors[2])</code></pre>
<pre><code>## wenge</code></pre>
<pre class="python"><code>colors[3]</code></pre>
<pre><code>## IndexError: list index out of range
## 
## Detailed traceback: 
##   File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;</code></pre>
<pre class="python"><code>print(colors[-1])</code></pre>
<pre><code>## wenge</code></pre>
<p>Indexing the equivalent vector in R with the indices 1 to 3 produces unsurprising results:</p>
<pre class="r"><code>colors &lt;- c(&quot;eburnean&quot;, &quot;glaucous&quot;, &quot;wenge&quot;)
colors[1]</code></pre>
<pre><code>## [1] &quot;eburnean&quot;</code></pre>
<pre class="r"><code>colors[3]</code></pre>
<pre><code>## [1] &quot;wenge&quot;</code></pre>
<p>What happens if we go off the end?</p>
<pre class="r"><code>colors[4]</code></pre>
<pre><code>## [1] NA</code></pre>
<p>Our understanding of the universe is unavoidably incomplete: limited as they are to three dimensions of space and one of time, our minds simply cannot grasp reality without shattering into a million gibbering pieces. In statistics, this is often reflected by gaps in data. R uses the special value <code>NA</code> (short for “not available”) to represent these gaps, and tries to shield us from the full horror of the unknowable by returning <code>NA</code> when we ask for knowledge that does not exist.</p>
<p>R does more than this—much more. In Python, a negative index counts backward from the end of a list. In R, we use a negative index to indicate a value that we don’t want:</p>
<pre class="r"><code>colors[-1]</code></pre>
<pre><code>## [1] &quot;glaucous&quot; &quot;wenge&quot;</code></pre>
<p>But wait. If every value in R is a vector, then when we use 1 or -1 as an index, we’re actually using a vector to index another one. What happens if the index itself contains more than one value?</p>
<pre class="r"><code>colors[1, 2]</code></pre>
<pre><code>## Error in colors[1, 2]: incorrect number of dimensions</code></pre>
<p>All right, that didn’t work. What if we make the vector subscript explicit using <code>c</code>?</p>
<pre class="r"><code>colors[c(3, 1, 2)]</code></pre>
<pre><code>## [1] &quot;wenge&quot;    &quot;eburnean&quot; &quot;glaucous&quot;</code></pre>
<pre class="r"><code>colors[c(1, 1, 1)]</code></pre>
<pre><code>## [1] &quot;eburnean&quot; &quot;eburnean&quot; &quot;eburnean&quot;</code></pre>
<pre class="r"><code>colors[c(-1, -2)]</code></pre>
<pre><code>## [1] &quot;wenge&quot;</code></pre>
<pre class="r"><code>colors[c(1, -1)]</code></pre>
<pre><code>## Error in colors[c(1, -1)]: only 0&#39;s may be mixed with negative subscripts</code></pre>
<p>This looks promising. If we provide a vector of positive indices, we get the elements they identify in their order, with elements duplicated if an index was used multiple times. The same thing happens if we use negative indices, and if we try to mix them, R heaves a heavy sigh and chides us for our mistake, presumably because an index like <code>c(1, -1)</code> is ambiguous.</p>
<p>What of zero?</p>
<pre class="r"><code>colors[0]</code></pre>
<pre><code>## character(0)</code></pre>
<p>In order to understand this rather cryptic response, we can try calling the function <code>character</code> ourselves with a positive argument:</p>
<pre class="r"><code>character(3)</code></pre>
<pre><code>## [1] &quot;&quot; &quot;&quot; &quot;&quot;</code></pre>
<p>Ah—it appears that <code>character</code> constructs a vector of character strings of the specified length and fills it with empty strings. The expression <code>character(0)</code> presumably therefore means “an empty character vector”. From this, we conclude that the index 0 doesn’t correspond to any elements, so R gives us back something of the right type but with no content. As a check, let’s try indexing with 0 and 1 together:</p>
<pre class="r"><code>colors[c(0, 1)]</code></pre>
<pre><code>## [1] &quot;eburnean&quot;</code></pre>
<p>This unfortunate behavior is fertile ground for breeding bugs. Be on guard against it.</p>
</div>
<div id="how-do-i-choose-and-repeat-things" class="section level2">
<h2>How do I choose and repeat things?</h2>
<p>We cherish the illusion of free will so much that we embed a pretense of it in our machines in the form of conditional statements. We then instruct those same machines to make the same decisions over and over, often for no discernible purpose. For example, we could write the following in Python:</p>
<pre class="python"><code>values = [-1, 0, 1]
for v in values:
    if v &lt; 0:
        sign = -1
    elif v == 0:
        sign = 0
    else:
        sign = 1
    print(&quot;The sign of&quot;, v, &quot;is&quot;, sign)</code></pre>
<pre><code>## (&#39;The sign of&#39;, -1, &#39;is&#39;, -1)
## (&#39;The sign of&#39;, 0, &#39;is&#39;, 0)
## (&#39;The sign of&#39;, 1, &#39;is&#39;, 1)</code></pre>
<p>and then create something equivalent in R:</p>
<pre class="r"><code>values &lt;- c(-1, 0, 1)
for (v in values) {
  if (v &lt; 0) {
    sign &lt;- -1
  }
  else if (v == 0) {
    sign &lt;- 0
  }
  else {
    sign &lt;- 1
  }
  print(paste(&quot;The sign of&quot;, v, &quot;is&quot;, sign))
}</code></pre>
<pre><code>## [1] &quot;The sign of -1 is -1&quot;
## [1] &quot;The sign of 0 is 0&quot;
## [1] &quot;The sign of 1 is 1&quot;</code></pre>
<p>There are a few things to note here:</p>
<ol style="list-style-type: decimal">
<li>The parentheses in the loop header are required: we cannot simply write <code>for v in values</code>.</li>
<li>The curly braces around the bodies of the loop and the conditional branches are optional, but should always be there to help readability.</li>
<li><code>paste</code> converts its arguments to strings and then concatenates those, placing a single space between each unless instructed to do otherwise. <code>print</code> then prints the resulting (single) string. The functions <code>cat</code> and <code>message</code> can also be used for text output.</li>
<li>By calling our temporary variable <code>sign</code> we risk collision with the rather useful built-in R function of the same name.</li>
</ol>
<p>Explicit loops in R programs are generally regarded with the same sort of suspicion as hearty claims by over-confident graduate students that the text they are about to read aloud is purely metaphorical, as are the dire warnings scrawled in the margins of the ancient tome in which it was found. If we wish to get the signs of some values in R, we can more idiomatically do this:</p>
<pre class="r"><code>result &lt;- sign(c(-1, 0, 1))</code></pre>
<p>Vectors being ubiquitous in R, almost every function will operate on multiple values. And as sequences such as (-1, 0, 1) are also very common, R provides a notation for expressing them:</p>
<p>or even:</p>
<pre class="r"><code>result &lt;- sign(-1:1)</code></pre>
<p>Where Python only allows ranges such as <code>-1:1</code> to be used as indices, R considers them first-class entities. Their most common use is as indices to vectors:</p>
<pre class="r"><code>colors &lt;- c(&quot;eburnean&quot;, &quot;glaucous&quot;, &quot;squamous&quot;, &quot;wenge&quot;)
colors[1:3]</code></pre>
<pre><code>## [1] &quot;eburnean&quot; &quot;glaucous&quot; &quot;squamous&quot;</code></pre>
<p>We can similarly subtract a range of colors by index:</p>
<pre class="r"><code>colors[-1:-3]</code></pre>
<pre><code>## [1] &quot;wenge&quot;</code></pre>
<p>R does not allow tripartite expressions of the form <code>start:end:stride</code>; for that, we must use the <code>seq</code> function:</p>
<pre class="r"><code>seq(1, 10, 3)</code></pre>
<pre><code>## [1]  1  4  7 10</code></pre>
<p>This example also shows that ranges in R are inclusive at both ends, i.e., they run up to <em>and including</em> the upper bound. As is traditional among programming language advocates, we claim that this is more natural, and then cite as proof some supportive anecdote such as, “Most people do not interpret the expression ‘from one to five’ to mean ‘one, two, three, or four’.”</p>
<p>What we <em>cannot</em> do is use vectors directly as conditions in <code>if</code> statements:</p>
<pre class="r"><code>numbers &lt;- c(0, 1, 2)
if (numbers) {
  print(&quot;This should not have worked.&quot;)
}</code></pre>
<pre><code>## Warning in if (numbers) {: the condition has length &gt; 1 and only the first
## element will be used</code></pre>
<p>Instead, we must collapse them into a single logical (Boolean) value:</p>
<pre class="r"><code>numbers &lt;- c(0, 1, 2)
if (all(numbers &gt;= 0)) {
  print(&quot;This, on the other hand, should work.&quot;)
}</code></pre>
<pre><code>## [1] &quot;This, on the other hand, should work.&quot;</code></pre>
<p>When evaluating the expression <code>numbers &gt;= 0</code>, R automatically replicates or <em>recycles</em> the shorter vector (in this case, the vector of length 1 containing the value 0) and then performs element-by-element comparison to construct a vector of logical values:</p>
<pre class="r"><code>numbers &gt;= 0</code></pre>
<pre><code>## [1] TRUE TRUE TRUE</code></pre>
<p>The function <code>all</code> then checks if they are all <code>TRUE</code>. We could use a corresponding function <code>any</code> to check if at least one was <code>TRUE</code>; these two functions therefore correspond to “and” and “or” across the whole vector.</p>
<p>Logical vectors have a special place in the R universe, just as human beings don’t in the larger one. If a vector is indexed with a logical vector, the result is a vector containing only the values at locations where the index vector is <code>TRUE</code>. This is easier to show than to describe:</p>
<pre class="r"><code>both &lt;- -2:2         # c(-2, -1, 0, 1, 2)
mask &lt;- both &gt; 0     # c(FALSE, FALSE, FALSE, TRUE, TRUE)
result &lt;- both[mask] # c(1, 2)
result</code></pre>
<pre><code>## [1] 1 2</code></pre>
<p>We can of course make the code shorter by eliminating <code>mask</code>:</p>
<pre class="r"><code>result &lt;- both[both &gt; 0]
result</code></pre>
<pre><code>## [1] 1 2</code></pre>
</div>
<div id="how-do-i-create-and-call-functions" class="section level2">
<h2>How do I create and call functions?</h2>
<p>As we have already seen, we call functions in R much as we do in Python:</p>
<pre class="r"><code>max(1, 3, 5) + min(1, 3, 5)</code></pre>
<pre><code>## [1] 6</code></pre>
<p>We can define a new function using the <code>function</code> keyword. Doing so does not name the function; to accomplish that, we assign the newly-created function to a variable:</p>
<pre class="r"><code>swap &lt;- function(pair) {
  c(pair[2], pair[1])
}
swap(c(&quot;left&quot;, &quot;right&quot;))</code></pre>
<pre><code>## [1] &quot;right&quot; &quot;left&quot;</code></pre>
<p>As this example shows, the result of a function is the value of the last expression evaluated within it. A function can return a value earlier using the <code>return</code> function; we can use <code>return</code> for the final value as well, but most R programmers do not.</p>
<pre class="r"><code>swap &lt;- function(pair) {
  if (length(pair) != 2) {
    return(NULL) # This is very bad practice.
  }
  c(pair[2], pair[1])
}
swap(c(&quot;one&quot;))</code></pre>
<pre><code>## NULL</code></pre>
<pre class="r"><code>swap(c(&quot;left&quot;, &quot;right&quot;))</code></pre>
<pre><code>## [1] &quot;right&quot; &quot;left&quot;</code></pre>
<p>We pause now to answer some questions that may have occurred to attentive readers. First, the special value <code>NULL</code> represents the absence of a vector. It is not the same as a vector of zero length, though testing that statement produces a rather odd result:</p>
<pre class="r"><code>NULL == integer(0)</code></pre>
<pre><code>## logical(0)</code></pre>
<p>To test for nullity, use the function <code>is.null</code>:</p>
<pre class="r"><code>is.null(NULL)</code></pre>
<pre><code>## [1] TRUE</code></pre>
<p>Second, and more importantly, returning <code>NULL</code> when our function’s inputs are invalid is an express route to madness, as doing so means that <code>swap</code> can fail without telling us that it has done so. Consider:</p>
<pre class="r"><code>NULL[1]  # Try to access an element of the vector that does not exist.</code></pre>
<pre><code>## NULL</code></pre>
<pre class="r"><code>values &lt;- 5:10          # More than two values.
result &lt;- swap(values)  # Attempting to swap the values produces NULL.
result[1]               # But we can operate on the result without error.</code></pre>
<pre><code>## NULL</code></pre>
<p>The next section will explore what we ought to do instead. Before then, however, we can offer some slight comfort. If the number of arguments given to a function is not the number expected, R will complain:</p>
<pre class="r"><code>swap(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)</code></pre>
<pre><code>## Error in swap(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;): unused arguments (&quot;two&quot;, &quot;three&quot;)</code></pre>
<p>Note that in this example we as passing three values, not a single vector containing three values. If we want a function to handle a varying number of arguments, we represent the “extra” arguments with an ellipsis <code>...</code> (three dots), which serves the same purpose as Python’s <code>*args</code>:</p>
<pre class="r"><code>print_with_title &lt;- function(title, ...) {
  title &lt;- paste(&quot;==&quot;, title, &quot;==\n&quot;)
  items &lt;- paste(..., sep = &quot;\n&quot;)
  cat(title)
  cat(items)
  cat(&quot;\n&quot;)
}
print_with_title(&quot;to-do&quot;, &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;)</code></pre>
<pre><code>## == to-do ==
## Monday
## Tuesday
## Wednesday</code></pre>
<p>If we want to work with the extra arguments one by one, we must first convert <code>...</code> to a list:</p>
<pre class="r"><code>add &lt;- function(...) {
  result &lt;- 0
  for (value in list(...)) {
    result &lt;- result + value
  }
  result
}
add(1, 3, 5, 7)</code></pre>
<pre><code>## [1] 16</code></pre>
<p>A list in R is a vector that can contain values of many different types. R’s lists are complex enough that we will devote an entire section to exploring them; until then, suffice to say that they can be iterated over, but that indexing them may surprise you.</p>
</div>
<div id="how-do-i-live-without-loops" class="section level2">
<h2>How do I live without loops?</h2>
<p>Modern Python encourages programmers to use list comprehensions instead of loops, e.g., to write:</p>
<pre class="python"><code>original = [3, 5, 7, 9]
doubled = [2 * x for x in original]
print(doubled)</code></pre>
<pre><code>## [6, 10, 14, 18]</code></pre>
<p>instead of:</p>
<pre class="python"><code>doubled = []
for x in original:
  doubled.append(2 * x)
print(doubled)</code></pre>
<pre><code>## [6, 10, 14, 18]</code></pre>
<p>If <code>original</code> is a NumPy array, we can shorten this to:</p>
<pre class="python"><code>doubled = 2 * original</code></pre>
<p>As we have already seen, R provides the same capability in the language itself:</p>
<pre class="r"><code>original &lt;- c(3, 5, 7, 9)
doubled &lt;- 2 * original</code></pre>
<p>If we want to perform more complex calculations, R encourages us to use a functional style of programming, in which data is transformed by successive operations much as reality itself is transformed by the will of the Great Old Ones. We begin by defining a function that does what we want:</p>
<pre class="r"><code>double &lt;- function(x) {
  2 * x
}</code></pre>
<p>and then pass this function to <code>sapply</code> along with the data on which we want to operate:</p>
<pre class="r"><code>sapply(1:10, double)</code></pre>
<pre><code>##  [1]  2  4  6  8 10 12 14 16 18 20</code></pre>
<p>This is clumsier than simply multiplying our values by two, but it illustrates the way in which <em>higher-order functions</em> work. We can use other higher-order functions to perform other operations, such as conditionals:</p>
<pre class="r"><code>values &lt;- -5:5
ifelse(values &gt; 0, values, NA)</code></pre>
<pre><code>##  [1] NA NA NA NA NA NA  1  2  3  4  5</code></pre>
<p>R provides many other higher-order functions, but their semantics are sometimes confusing. We therefore encourage programmers to use the functions provided by the tidyverse instead; these will be discussed in <a href="tidyverse.Rmd">the next lesson</a>.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
